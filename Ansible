                                     Ansible
==========================================================================================================================================================================================================
1. Ansible is Open Source IT Configuration Managment Tool.
2. Push Based Mechanism.
3. Agentless and SSH Security

=========================================================================================================================================================================================================
Local Repository Create a Repository:

#cd /etc/yum.repos.d/
#ll
#vim local.repo  ====> Create a file 

[BASEID]
name=BaseOS
baseurl=file:///run/media/lalit/RHEL-9-1-0-BaseOS-x86_64/BaseOS
gpgcheck=0
enabled=1

[APPID]
name=Apps
baseurl=file:///run/media/lalit/RHEL-9-1-0-BaseOS-x86_64/AppStream
gpgcheck=0
enabled=1

:wq!

#dnf repolist all 
o/p : Showing status enabled


======================================================================================================================================================
Enabled Firewall Service:
#firewall-cmd --list-services
#firewall-cmd --permanent --add-service=http
#firewall-cmd --reload
#firewall-cmd --list-services
#curl workstation

==========================================================================================================================================================
Online Repository:

[BASEID]
name=BaseOS
baseurl=http://workstation/DVD/BaseOS
gpgcheck=0
enabled=1

[APPID]
name=Apps
baseurl=http://workstation/DVD/AppStream
gpgcheck=0
enabled=1

:wq!

#dnf repolist all

O/p : Showing status enabled



===========================================================================================================================================================
Creating a user on on all machine

#adduser ansible

#passwd ansible

Step 2: Assigning a Sudo permision to ansible machine on all machine.

#vim /etc/sudoers.d/ansible

ansible ALL=(ALL)  NOPASSWD:ALL

Login using ansible user.

	#ssh-keygen

#cd .ssh

#ssh-copied ansible@192.168.136.163    =======> Copy public key of master machine to managed node.

===============================================================================================================================================================

#dnf install python3-pip

#pip3.9 install 'ansible-navigator[ansible-core]'==2.1.0


Login using ansible user #su - ansible

#mkdir ansible 

#ansible-navigator

#ansible-navigator --version
o/p ansible-navigator 2.1.0

#ansible --list-host prod
o/p: hosts (1):
    192.168.136.163
	
#ansible --list-host all
o/p: hosts (2):
    192.168.136.153
    192.168.136.163

#ansible --version

ansible [core 2.15.13]
  config file = /home/ansible/ansible/ansible.cfg
  configured module search path = ['/home/ansible/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  ansible collection location = /home/ansible/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible
  python version = 3.9.14 (main, Sep 21 2022, 00:00:00) [GCC 11.3.1 20220421 (Red Hat 11.3.1-2)] (/usr/bin/python3)
  jinja version = 3.1.6
  libyaml = True

------------------------------------------------------------------------------------------------------------------------------------------------------------
#cd ansible

Create a ansible.cfg file
#vim ansible.cfg

[defaults]
inventory = ./inventory
remote_user = ansible
ask_pass = false
interpreter_python = /usr/bin/python3

[privilege-escalation]
become = true
become_method = sudo
become_user = root
become_ask_pass = false
--------------------------------------------------------------------------------------------------------------
Create inventory 

#vim inventory

#This is ungroup
192.168.136.149
192.168.136.163
192.168.136.164

[prod]
192.168.136.149

[dev]
192.168.136.163
192.168.136.164

[myserver:children]
prod
dev

-----------------------------------------------------------------------------------------------------------------------------------------------------
[ansible@workstation ansible]$ ansible-inventory --graph  ===================> Showing all the connected nodes and groups

@all:
  |--@ungrouped:
  |--@myserver:
  |  |--@prod:
  |  |  |--192.168.136.149
  |  |--@dev:
  |  |  |--192.168.136.163
  |  |  |--192.168.136.164


#ansible-doc --list    ========================>  Showing the list of all modules

#ansible-doc  yum   ==========================> Complete detail of yum module



==============================================================================================================================================================
